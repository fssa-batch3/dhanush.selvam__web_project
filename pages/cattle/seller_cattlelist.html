<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <title> Cattles List </title>

    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/cattles/cattlelist.css">
    <link rel="stylesheet" href="../../assets/css/header_footer.css">
    <script src = "../../assets/js/main.js"></script>
    <link rel="icon" href="../../assets/images/cattles/logo.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="navbar">
            <div class="logodiv"><a href = "../../index.html"><img class = "logo" src="../../assets/images/cattles/logo1.png" alt="logo"></a></div>
            <div class="lotit"><a href = "../../index.html"><h1 class = "hd"> KowMart </h1></a></div>
        </div>
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <ul class = "navbar">
                <li><a href="cattle_index.html">Cattles</a></li>
                <!-- <li><a href="../agro pro/agro.html">Agro Products</a></li> -->
                <li><a href="../about.html">About Us</a></li>
                <li class = "logbutton"><a href="./sell_details1.html"><button class = "sell"> SELL </button></a></li>
                <li class = "profile_icon"><a href = "../buyer_profile.html"><i class="fa-solid fa-user"></i></a></li>
            </ul>
        </div> 
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span> 
        <div class = "link_container">
            <ul class="navbar">
                <li><a href="cattle_index.html">Cattles</a></li>
                <!-- <li><a href="../agro pro/agro.html">Agro Products</a></li> -->
                <li><a href="../about.html">About Us</a></li>
            </ul>
        </div>
        <div class = "navbar butcot" id = "sellpro">
            <div class = "butspace"><a href = "./sell_details1.html"> <button class = "sell"> SELL </button> </a></div>
            <div class = "user"><a href = "../buyer_profile.html"><i class="fa-solid fa-user"></i></a></div>
        </div>
    </header>

    <main>
        <div class="ho7">
            
            <div class = "titbut"><button class = "btn" onclick="window.history.back()"> BACK </button></div>
            <div class="ho6"><h1 class = "title_color"> Cattle List </h1></div>
           
            <div class = "cattles_container">
                <!-- <div class="p12">
                    <div class = "img_container">
                        <a href = "../cattle details/cow/C1.html"><img class="i1" src="../../assets/images/cattles/c1.jpg" alt = "cow"></a>
                    </div>
                    <h2> Gir Cow G018 </h2>
                    <div><a href = "cattle_profile.html"><button class = "edit_button"> Edit </button></a></div>     
                </div>

                <div class="p12">
                    <div class = "img_container">
                        <a href = "../cattle details/buffalo/B2.html"><img class="i1" src="../../assets/images/cattles/b2.jpg" alt = "buffalo"></a>
                    </div>
                    <h2> Nilli Ravi Buffalo N115 </h2>
                    <div><a href = "cattle_profile.html"><button class = "edit_button"> Edit </button></a></div>
                </div>

                <div class="p12">
                    <div class = "img_container">
                        <a href = "../cattle details/goat/G2.html"><img class="i1" src="../../assets/images/cattles/g2.jpg" alt = "goat"></a>
                    </div>
                    <h2> Sirohi Goat S055 </h2>
                    <div><a href = "cattle_profile.html"><button class = "edit_button"> Edit </button></a></div>
                </div>

                <div class="p12">
                    <div class = "img_container">
                        <a href = "../cattle details/sheep/S1.html"><img class="i1" src="../../assets/images/cattles/s1.jpg" alt = "sheep"></a>
                    </div>
                    <h2> Bannur Sheep B023 </h2>
                    <a href = "cattle_profile.html"><button class = "edit_button"> Edit </button></a>
                </div> -->
                
                <!-- <div class="p12">
                    <div class = "img_container">
                        <a href = "sell_details1.html"><img class = "new" src = "../../assets/images/new.png" alt = "add"></a>
                    </div>
                    <h2> Add new cattles </h2>
                    <div><a href = "sell_details1.html"><button class = "edit_button"> Add </button></a></div>
                </div> -->
                
            </div>
        </div>
    </main>

    <footer>
        <div class="foot">
            <div class="foot1">
                <img class="logof" src="../../assets/images/cattles/logo2.png" alt = "logo">
                <p class=" f1p"> Kowmart.com is an online marketplace established with the aim to strengthen Livestock
                    Economy of the country. It helps livestock enterprises/self-employed/individuals to achieve their
                    full potential while ensuring livestock wellbeing.</p>
            </div>
            <div class="foot2">
                <h2 class = "connect"> CONNECT WITH US</h2>
                <div class = "fspace">
                    <p> Email: info@kowmart.com</p>
                    <p> Ph.no: 1234567890</p>
                    <p> Insta: KowMart</p>
                </div>
                <div class = "contact">
                    <i class="fa-brands fa-facebook"></i>
                    <i class="fa-brands fa-whatsapp"></i>
                    <i class="fa-brands fa-instagram"></i>
                </div>
            </div>
        </div>
    </footer>

    <script>

        let user_UniqueId = JSON.parse(localStorage.getItem("phone_no_id"))
        
        let cattle_details = JSON.parse(localStorage.getItem("cattle_details"));
        let usersCattle = cattle_details.filter(e => e.userId == user_UniqueId);

        for(i=0; i<usersCattle.length; i++){

            // cattle container
            div_p12 = document.createElement("div");
            div_p12.setAttribute("class","p12");

            // image container
            div_img_container = document.createElement("div");
            div_img_container.setAttribute("class","img_container");
            div_p12.append(div_img_container)

            // a 

            cattle_imageContainer=document.createElement("a")
            cattle_imageContainer.setAttribute("href","../cattle details/cow/C1.html?cattle_id=" + usersCattle[i]["cattle_uniqueId"] + "&user_id=" + usersCattle[i]["userId"]);
            div_img_container.append(cattle_imageContainer)
            
            // cattle image
            cattle_image = document.createElement("img");
            cattle_image.setAttribute("src",usersCattle[i]["image"]);
            cattle_image.setAttribute("alt",usersCattle[i]["breed"] + " " + usersCattle[i]["cattle"]);
            cattle_image.setAttribute("class","i1");
            cattle_imageContainer.append(cattle_image)

            // cattle info
            h2_name = document.createElement("h2");
            h2_name.innerText = usersCattle[i]["breed"] + " " + usersCattle[i]["cattle"] + " " + usersCattle[i]["id"];
            div_p12.append(h2_name)

            button_know = document.createElement("button");
            button_know.setAttribute("class","edit_button");
            button_know.setAttribute("data-id",usersCattle[i]["cattle_uniqueId"]);
            button_know.innerText = "Edit";
            div_p12.append(button_know)

            document.querySelector("div.cattles_container").append(div_p12)
        }

        // Function for edit button 

        const edit = document.querySelectorAll('button.edit_button');
        edit.forEach(function (findId) {
            findId.addEventListener('click', function () {
                const id = this.dataset.id;
                
                localStorage.setItem("cattle_unique_Id", JSON.stringify(id));
                window.location.href = "./cattle_profile.html";
            });
        });

    </script>

</body>

</html>