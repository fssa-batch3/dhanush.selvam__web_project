<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
        <title> B-S Profile</title>

        <link rel="stylesheet" href="../../assets/css/style.css">
        <link rel="stylesheet" href="../../assets/css/cattles/cattlelist.css">
        <link rel="stylesheet" href="../../assets/css/b-s_profile.css">
        <link rel="stylesheet" href="../../assets/css/header_footer.css">
        <script src="../../assets/js/main.js"></script>
        <link rel="icon" href="../../assets/images/cattles/logo.png" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,700&display=swap"
            rel="stylesheet">
    </head>

    <body>

        <main>
            <div class = "form_container">

                <form>

                    <h1 class = "title"> Profile </h1>

                    <div class = "divs">

                        <div class = "divs">
                            <label> Name </label>
                            <input readonly id = "name">
                        </div>
                        <div class = "divs">
                            <label> Phone No. </label>
                            <input readonly id = "phone">
                        </div>
                        <div class = "divs">
                            <label> Address </label>
                            <textarea readonly id = "address"></textarea>
                        </div>
                    
                    </div>

                </form>

            </div>

            <!-- Cattles Section -->

            <div class = "products_section">
                <h1 class = "title_color" id = "other_cattles"> Other Cattles </h1>
                <div class="cattles_container"> </div>
            </div>

        </main>

        <script src = "../../assets/js/header.js"></script>
        <script src = "../../assets/js/footer.js"></script>

        <script>const urlParams = new URLSearchParams(window.location.search);
        const user_id = urlParams.get("user-id");

        const repData = repDetail.find(e => e.userId === user_id);

        document.getElementById("name").value = repData.name;
        document.getElementById("phone").value = repData.phone_no;
        document.getElementById("address").value = `${repData.address}, ${repData.address} ,${repData.pincode}.`;

        const repCattlesId = verifiedCattleLists.filter(e => e.repUserId === user_id);
        const repOtherCattles = [];

        for (let i = 0; i < repCattlesId.length; i++){
            let repOtherCattlesData = cattle_detail.find(e => e.cattle_uniqueId === repCattlesId[i]["cattle_uniqueId"]);
            repOtherCattles.push(repOtherCattlesData);
        }

        for (i = 0; i < repOtherCattles.length; i++) {

          // cattle container
          cattle_container = document.createElement("div");
          cattle_container.setAttribute("class", "cattle_container");

          // image container
          cattle_img_container = document.createElement("div");
          cattle_img_container.setAttribute("class", "img_container");
          cattle_container.append(cattle_img_container);

          // a

          cattle_anchor = document.createElement("a");
          cattle_anchor.setAttribute("href",`../cattle details/cow/C1.html?breed=${repOtherCattles[i].breed}&cattle_id=${repOtherCattles[i].cattle_uniqueId}&user_id=${user_id}`);
          cattle_img_container.append(cattle_anchor);

          // cattle image
          cattle_image = document.createElement("img");
          cattle_image.setAttribute("src", repOtherCattles[i].image);
          cattle_image.setAttribute("alt",`${repOtherCattles[i].breed} ${repOtherCattles[i].cattle}`);
          cattle_image.setAttribute("class", "cattle_image");
          cattle_anchor.append(cattle_image);

          // cattle info container
          info_container = document.createElement("div");
          info_container.setAttribute("class", "info_container");
          cattle_container.append(info_container);

          // cattle info
          cattle_name = document.createElement("p");
          cattle_name.setAttribute("class", "cattle_name");
          cattle_name.innerText = `${repOtherCattles[i].breed} ${repOtherCattles[i].cattle} ${repOtherCattles[i].id}`;
          info_container.append(cattle_name);

          cattle_age = document.createElement("p");
          cattle_age.innerText = `Age: ${repOtherCattles[i].age} Year(s)`;
          info_container.append(cattle_age);

          cattle_gender = document.createElement("p");
          cattle_gender.innerText = `Gender: ${repOtherCattles[i].gender}`;
          info_container.append(cattle_gender);

          // a

          buttonContainer = document.createElement("a");
          buttonContainer.setAttribute("href",`../cattle details/cow/C1.html?breed=${repOtherCattles[i].breed}&cattle_id=${repOtherCattles[i].cattle_uniqueId}&user_id=${user_id}`);
          info_container.append(buttonContainer);

          // Know more button

          button_know = document.createElement("button");
          button_know.innerText = "Know More";
          buttonContainer.append(button_know);

          document.querySelector("div.cattles_container").append(cattle_container);
        }
    </script>

    </body>

</html>